var zoom=function(){var o=1,t=0,e=0,n=-1,i=-1,d=-1,s="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style;function r(t,e){var n=y();if(t.width=t.width||1,t.height=t.height||1,t.x-=(window.innerWidth-t.width*e)/2,t.y-=(window.innerHeight-t.height*e)/2,s)if(1===e)document.body.style.transform="",document.body.style.OTransform="",document.body.style.msTransform="",document.body.style.MozTransform="",document.body.style.WebkitTransform="";else{var i=n.x+"px "+n.y+"px",d="translate("+-t.x+"px,"+-t.y+"px) scale("+e+")";document.body.style.transformOrigin=i,document.body.style.OTransformOrigin=i,document.body.style.msTransformOrigin=i,document.body.style.MozTransformOrigin=i,document.body.style.WebkitTransformOrigin=i,document.body.style.transform=d,document.body.style.OTransform=d,document.body.style.msTransform=d,document.body.style.MozTransform=d,document.body.style.WebkitTransform=d}else 1===e?(document.body.style.position="",document.body.style.left="",document.body.style.top="",document.body.style.width="",document.body.style.height="",document.body.style.zoom=""):(document.body.style.position="relative",document.body.style.left=-(n.x+t.x)/e+"px",document.body.style.top=-(n.y+t.y)/e+"px",document.body.style.width=100*e+"%",document.body.style.height=100*e+"%",document.body.style.zoom=e);o=e}function m(){var n=.12*window.innerWidth,i=.12*window.innerHeight,d=y();e<i?window.scroll(d.x,d.y-14/o*(1-e/i)):e>window.innerHeight-i&&window.scroll(d.x,d.y+(1-(window.innerHeight-e)/i)*(14/o)),t<n?window.scroll(d.x-14/o*(1-t/n),d.y):t>window.innerWidth-n&&window.scroll(d.x+(1-(window.innerWidth-t)/n)*(14/o),d.y)}function y(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}return s&&(document.body.style.transition="transform 800ms ease",document.body.style.OTransition="-o-transform 800ms ease",document.body.style.msTransition="-ms-transform 800ms ease",document.body.style.MozTransition="-moz-transform 800ms ease",document.body.style.WebkitTransition="-webkit-transform 800ms ease"),document.addEventListener("keyup",function(t){1!==o&&27===t.keyCode&&zoom.out()}),document.addEventListener("mousemove",function(n){1!==o&&(t=n.clientX,e=n.clientY)}),{to:function(t){if(1!==o)zoom.out();else{if(t.x=t.x||0,t.y=t.y||0,t.element){var e="number"==typeof t.padding?t.padding:20,s=t.element.getBoundingClientRect();t.x=s.left-e,t.y=s.top-e,t.width=s.width+2*e,t.height=s.height+2*e}void 0!==t.width&&void 0!==t.height&&(t.scale=Math.max(Math.min(window.innerWidth/t.width,window.innerHeight/t.height),1)),t.scale>1&&(t.x*=t.scale,t.y*=t.scale,t.x=Math.max(t.x,0),t.y=Math.max(t.y,0),r(t,t.scale),!1!==t.pan&&(n=setTimeout(function(){i=setInterval(m,1e3/60)},800)),"function"==typeof t.callback&&(d=setTimeout(t.callback,800)))}},out:function(t){clearTimeout(n),clearInterval(i),clearTimeout(d),r({x:0,y:0},1),t&&"function"==typeof t.callback&&setTimeout(t.callback,800),o=1},magnify:function(o){this.to(o)},reset:function(){this.out()},zoomLevel:function(){return o}}}();